# Configuració general
listen=YES
listen_ipv6=NO
anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=022
dirmessage_enable=YES
xferlog_enable=YES
xferlog_file=/var/log/vsftpd.log
xferlog_std_format=YES

# Mode actiu
port_enable=YES
connect_from_port_20=YES

# Seguretat
chroot_local_user=YES
allow_writeable_chroot=YES
secure_chroot_dir=/var/run/vsftpd/empty
pam_service_name=vsftpd

# Mode passiu
pasv_enable=YES
pasv_min_port=21100
pasv_max_port=21110
pasv_address=127.0.0.1

# Missatges
ftpd_banner=Benvingut al servidor FTP de TechFiles SL 

# Accés anònim
anonymous_enable=YES
no_anon_password=YES
anon_root=/var/ftp/public
anon_upload_enable=NO
anon_mkdir_write_enable=NO
anon_other_write_enable=NO
anon_world_readable_only=YES

# Límits de connexions 
max_clients=50
max_per_ip=3

# Límits d'ample de banda globals
# Usuaris locals: 1 MB/s = 1048576 bytes/s
local_max_rate=1048576
# Usuaris anònims: 512 KB/s = 524288 bytes/s
anon_max_rate=524288

# Timeout de sessions (per seguretat)
idle_session_timeout=300
data_connection_timeout=120

# Límits per usuaris anònims
anon_max_rate=524288
max_clients=50

# Activar configuració per usuari 
user_config_dir=/etc/vsftpd/user_config